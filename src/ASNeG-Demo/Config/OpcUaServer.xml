<!--
   Copyright 2015-2017 Kai Huebl (kai@huebl-sgh.de)

   Lizenziert gemäß Apache Licence Version 2.0 (die „Lizenz“); Nutzung dieser
   Datei nur in Übereinstimmung mit der Lizenz erlaubt.
   Eine Kopie der Lizenz erhalten Sie auf http://www.apache.org/licenses/LICENSE-2.0.

   Sofern nicht gemäß geltendem Recht vorgeschrieben oder schriftlich vereinbart,
   erfolgt die Bereitstellung der im Rahmen der Lizenz verbreiteten Software OHNE
   GEWÄHR ODER VORBEHALTE – ganz gleich, ob ausdrücklich oder stillschweigend.

   Informationen über die jeweiligen Bedingungen für Genehmigungen und Einschränkungen
   im Rahmen der Lizenz finden Sie in der Lizenz.

   Autor: Kai Huebl (kai@huebl-sgh.de)
-->

<OpcUaServer>

  <Logging>
    <FileLogger>
      <LogFileName>@CONF_DIR@/../../../var/log/OpcUaStack/ASNeG-Demo/OpcUaServer.log</LogFileName>
      <MaxLogFileNumber>20</MaxLogFileNumber>
      <MaxLogFileSize>5000000</MaxLogFileSize>
      <LogLevel>Trace</LogLevel>
    </FileLogger>
    
    <Log4cxxLogger>
    </Log4cxxLogger>
    
  </Logging>
  
  <DiscoveryServer>
      <DiscoveryUrl>opc.tcp://localhost:4840</DiscoveryUrl>
      <RegisterInterval>40000</RegisterInterval>
  </DiscoveryServer>
  
  <Endpoints>
    <EndpointDescription>
	  <EndpointUrl>opc.tcp://0.0.0.0:8889</EndpointUrl>
	  <ApplicationUri>urn:ASNeG:ASNeG-Demo</ApplicationUri>
	  <ProductUri>urn:ASNeG:ASNeG-Demo</ProductUri>
	  <ApplicationName>ASNeG-Demo</ApplicationName>
	  <DiscoveryUrl>opc.tcp://0.0.0.0:8889</DiscoveryUrl>	
	  <GatewayServerUri></GatewayServerUri>
	  <SecurityPolicyUri>http://opcfoundation.org/UA/SecurityPolicy#None</SecurityPolicyUri>
	  <UserTokenPolicy>
	    <PolicyId>OpcUaStack1</PolicyId>
	    <TokenType>Anonymous</TokenType>
	  </UserTokenPolicy>
	  <UserTokenPolicy>
	    <PolicyId>OpcUaStack2</PolicyId>
	    <TokenType>Username</TokenType>
	  </UserTokenPolicy>
	  <UserTokenPolicy>
	    <PolicyId>OpcUaStack3</PolicyId>
	    <TokenType>IssuedToken</TokenType>
	  </UserTokenPolicy>
	  <TransportProfileUri>http://opcfoundation.org/UA-Profile/Transport/uatcp-uasc-uabinary</TransportProfileUri>
	  <SecurityLevel>0</SecurityLevel>
	</EndpointDescription>

	<!--
    <EndpointDescription>
	  <EndpointUrl>opc.tcp://0.0.0.0:4888/0.0.0.0</EndpointUrl>
	  <ApplicationUri>urn:localhost:OpcUaServer::TestAppl</ApplicationUri>
	  <ProductUri>urn:company:OpcUaServer</ProductUri>
	  <ApplicationName>OpcUaServer</ApplicationName>
	  <DiscoveryUrl>opc.tcp://localhost:4841/0.0.0.0</DiscoveryUrl>	
	  <SecurityPolicyUri>http://opcfoundation.org/UA/SecurityPolicy#None</SecurityPolicyUri>
	  <UserTokenPolicy>
	    <PolicyId>OpcUaStack</PolicyId>
		<TokenType>Anonymous</TokenType>
	  </UserTokenPolicy>
	  <TransportProfileUri>http://opcfoundation.org/UA-Profile/Transport/uatcp-uasc-uabinary</TransportProfileUri>
	  <SecurityLevel>1</SecurityLevel>
	</EndpointDescription>
	
    <EndpointDescription>
	  <EndpointUrl>opc.tcp://0.0.0.0:4888/0.0.0.0</EndpointUrl>
	  <ApplicationUri>urn:localhost:OpcUaServer::TestAppl</ApplicationUri>
	  <ProductUri>urn:company:OpcUaServer</ProductUri>
	  <ApplicationName>OpcUaServer</ApplicationName>
	  <DiscoveryUrl>opc.tcp://localhost:4841/0.0.0.0</DiscoveryUrl>	
	  <SecurityPolicyUri>http://opcfoundation.org/UA/SecurityPolicy#None</SecurityPolicyUri>
	  <UserTokenPolicy>
	    <PolicyId>OpcUaStack</PolicyId>
		<TokenType>Anonymous</TokenType>
	  </UserTokenPolicy>
	  <TransportProfileUri>http://opcfoundation.org/UA-Profile/Transport/uatcp-uasc-uabinary</TransportProfileUri>
	  <SecurityLevel>2</SecurityLevel>
	</EndpointDescription>
	-->
  </Endpoints>

  <ServerCertificate>
      <CertificateTrustListLocation>@CONF_DIR@/trusted/certs/</CertificateTrustListLocation>
      <CertificateRevocationListLocation>@CONF_DIR@/trusted/crl/</CertificateRevocationListLocation>
      <IssuersCertificatesLocation>@CONF_DIR@/issuers/certs/</IssuersCertificatesLocation>
      <IssuersRevocationListLocation>@CONF_DIR@/issuers/crl/</IssuersRevocationListLocation>
      <RejectListLocation>@CONF_DIR@/reject/cert/</RejectListLocation>
      <PrivateKeyLocation>@CONF_DIR@/private/</PrivateKeyLocation>
  </ServerCertificate>
  
  <Applications>
    <Application>
      <Name>ASNeG-Demo</Name>  
      <Library>ASNeG-Demo</Library>
      <Config>@CONF_DIR@/ApplicationDemoModel.xml</Config>
    </Application>
  </Applications>
  
  
  <InformationModel>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSetTest.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSetTestLib.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSetTestLibClientServer.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.Camera.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.Function.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.Complex.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.StructureExample.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.Service.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.Alarm.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Opc.Ua.NodeSet.Auth.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/TestStatusCode.OpcUaNodeSet.xml</NodeSetFile>
    <NodeSetFile>@CONF_DIR@/Event.OpcUaNodeSet.xml</NodeSetFile>
  </InformationModel>

</OpcUaServer>
